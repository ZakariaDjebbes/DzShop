<nav class="navbar navbar-icon-top navbar-expand-lg navbar-dark bg-primary">
    <a class="navbar-brand" [routerLink]="['/']" href="#">DzShop.</a>
    <button class="navbar-toggler"(click)="isCollapsed = !isCollapsed" type="button" type="button">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" [collapse]="isCollapsed"
    [isAnimated]="true" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" [routerLink]="['/']" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                    <i class="fa fa-home">
                    </i>
                    Home
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" [routerLink]="['/shop']" routerLinkActive="active">
                    <i class="fa fa-shopping-cart">
                    </i>
                    Shop
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" [routerLink]="['/.']" routerLinkActive="active">
                    <i class="fa fa-envelope-o">
                    </i>
                    Contact us
                </a>
            </li>
        </ul>
        <ul class="navbar-nav ">
            <li class="nav-item">
                <a class="nav-link" routerLink="/basket" routerLinkActive="active">
                    <i class="fa fa-shopping-cart">
                        <span class="badge badge-info" *ngIf="(basket$ | async) as basket">{{basket.items.length}}</span>
                    </i>
                    Basket
                </a>
            </li>
            <ng-container *ngIf="(user$ | async) === null">
                <li class="nav-item">
                    <a routerLink="/account/login" routerLinkActive="active" class="nav-link">
                        <i class="fa fa-sign-in">
                        </i>
                        Sign in
                    </a>
                </li>
                <li class="nav-item">
                    <a routerLink="/account/register" routerLinkActive="active" class="nav-link">
                        <i class="fa fa-user-plus">
                        </i>
                        Sign up
                    </a>
                </li>
            </ng-container>
            <ng-container *ngIf="(user$ | async) as user">
                <li class="nav-item dropdown" dropdown>
                    <a class="nav-link dropdown-toggle" dropdownToggle id="navbarDropdown" role="button" aria-controls="dropdown-basic">
                        <i class="fa fa-user">
                        </i>
                        Welcome {{user.userName}}!
                    </a>
                    <div *dropdownMenu class="dropdown-menu dropdown-menu-right">
                        <a routerLink="/account/profile" class="dropdown-item d-flex align-items-center">
                            <i class="fa fa-user fa-fw mr-3"></i>Your Account
                        </a>
                        <a routerLink="/basket" class="dropdown-item d-flex align-items-center">
                            <i class="fa fa-shopping-cart fa-fw mr-3"></i>View Basket
                        </a>
                        <a routerLink="/orders" class="dropdown-item d-flex align-items-center">
                            <i class="fa fa-history fa-fw mr-3"></i>View Orders
                        </a>
                        <div class="dropdown-divider"></div>
                        <a (click)="logout()" class="dropdown-item d-flex align-items-center">
                            <i class="fa fa-sign-out fa-fw mr-3"></i>Logout
                        </a>
                    </div>
                </li>
            </ng-container>
        </ul>
    </div>
</nav>